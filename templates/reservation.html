<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}" type="image/x-icon">
    <title>Cat√°logo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</head>
<body>
    <h1>Reservar Cabine</h1>
    
    <!-- Date Selection Button -->
    <label for="data">Escolha a Data:</label>
    <br><input class="data" type="date" id="datePicker" required></br>
    
    <!-- E-mail -->
    <label for="email">E-mail:</label>
    <br><input type="email" id="email" required></br>
    <p id="emailError" style="color: rgb(255, 255, 255);"></p> <!-- Element to display error message -->


    <!-- Confirmation Button -->
    <button class="btn" id="confirmButton">Verificar disponibilidade</button>

    <!-- Display Area for Agendamentos -->
    <div id="agendamentos"></div>
    <div id="cabinsContent"></div>

    <script>
        // Get the date picker element
        const datePicker = document.getElementById("datePicker");
        const emailInput = document.getElementById("email");
        const emailError = document.getElementById("emailError");

        // Get the current date in ISO format (yyyy-mm-dd)
        const today = new Date().toISOString().split("T")[0];

        // Set the min attribute of the date picker to the current date
        datePicker.setAttribute("min", today);

        // Function to click the "Verificar disponibilidade" button
        function autoClickConfirmButton() {
            const confirmButton = document.getElementById("confirmButton");
            confirmButton.click();
        }

        // Automatically click the button every 30 seconds
        setInterval(autoClickConfirmButton, 30000); // 30000 milliseconds = 30 seconds
    </script>
</body>
</html>
